{"ast":null,"code":"var _jsxFileName = \"/Users/suvinjeon/What-To-Do/client/src/components/HomePage/Map.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Wrapper, Status } from \"@googlemaps/react-wrapper\";\nimport \"./Map.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst render = (status, destinations, selectedCoords) => {\n  switch (status) {\n    case Status.LOADING:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-loading\",\n        children: \"Loading Map...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 8,\n        columnNumber: 14\n      }, this);\n    case Status.FAILURE:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-error\",\n        children: \"Error loading map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 14\n      }, this);\n    case Status.SUCCESS:\n      return /*#__PURE__*/_jsxDEV(MapComponent, {\n        destinations: destinations,\n        selectedCoords: selectedCoords\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }, this);\n    default:\n      return null;\n  }\n};\nfunction Map({\n  destinations = [],\n  selectedCoords\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-container\",\n    children: /*#__PURE__*/_jsxDEV(Wrapper, {\n      apiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\n      render: status => render(status, destinations, selectedCoords),\n      libraries: [\"places\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n\n// The actual map component that gets rendered after loading\n_c = Map;\nconst MapComponent = ({\n  destinations,\n  selectedCoords\n}) => {\n  _s();\n  const ref = React.useRef(null);\n  const [map, setMap] = React.useState(null);\n  const markersRef = React.useRef([]);\n  React.useEffect(() => {\n    if (ref.current && !map) {\n      const newMap = new window.google.maps.Map(ref.current, {\n        center: {\n          lat: 40.7128,\n          lng: -74.006\n        },\n        // New York City coordinates\n        zoom: 12,\n        // Remove custom styles to use default Google Maps look\n        disableDefaultUI: false,\n        // Keep default UI\n        zoomControl: true,\n        mapTypeControl: true,\n        scaleControl: true,\n        streetViewControl: true,\n        rotateControl: true,\n        fullscreenControl: true\n      });\n      // Click Listener for a randomly dropped pin\n      newMap.addListener(\"click\", e => {\n        const latLng = {\n          lat: e.latLng.lat(),\n          lng: e.latLng.lng()\n        };\n        if (onClick) onClick(latLng);\n      });\n      setMap(newMap);\n\n      //   // Add some sample markers for popular NYC locations\n      //   const popularLocations = [\n      //     { lat: 40.7829, lng: -73.9654, title: \"Central Park\" },\n      //     { lat: 40.6892, lng: -74.0445, title: \"Statue of Liberty\" },\n      //     { lat: 40.7589, lng: -73.9851, title: \"Times Square\" },\n      //     { lat: 40.751, lng: -73.9943, title: \"Empire State Building\" },\n      //     { lat: 40.7505, lng: -73.9934, title: \"Madison Square Garden\" },\n      //   ];\n\n      //   popularLocations.forEach((location) => {\n      //     new window.google.maps.Marker({\n      //       position: { lat: location.lat, lng: location.lng },\n      //       map: newMap,\n      //       title: location.title,\n      //       // Use default Google Maps marker by not specifying custom icon\n      //     });\n      //   });\n    }\n  }, [ref, map]);\n\n  // Update markers whenever destinations change\n  React.useEffect(() => {\n    if (!map) return;\n\n    // Clear old markers\n    markersRef.current.forEach(marker => marker.setMap(null));\n    markersRef.current = [];\n\n    // Add new markers\n    destinations.forEach(dest => {\n      if (dest.coords) {\n        const marker = new window.google.maps.Marker({\n          position: dest.coords,\n          map,\n          title: dest.name || \"New Destination\"\n        });\n        markersRef.current.push(marker);\n      }\n    });\n  }, [map, destinations]);\n\n  // Autofocus when selectedCoords change to center to selectedCorods\n  React.useEffect(() => {\n    if (!map) return;\n    const coordsArray = Array.isArray(selectedCoords) ? selectedCoords : selectedCoords ? [selectedCoords] : [];\n    const newMarkers = coordsArray.map(coord => {\n      const marker = new window.google.maps.Marker({\n        position: coord,\n        map,\n        draggable: !Array.isArray(selectedCoords) // draggable only for single marker\n      });\n      // ✅ Add drag listener like your version\n      if (!Array.isArray(selectedCoords)) {\n        marker.addListener(\"dragend\", event => {\n          const newCoords = {\n            lat: event.latLng.lat(),\n            lng: event.latLng.lng()\n          };\n          if (onClick) onClick(newCoords);\n        });\n      }\n      return marker;\n    });\n    markersRef.current = newMarkers;\n    // Center / zoom logic\n\n    if (coordsArray.length === 1) {\n      map.setCenter(coordsArray[0]);\n      map.setZoom(16);\n    } else if (coordsArray.length > 1) {\n      const bounds = new window.google.maps.LatLngBounds();\n      coordsArray.forEach(c => bounds.extend(c));\n      map.fitBounds(bounds);\n    }\n  }, [map, selectedCoords]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    className: \"google-map\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 10\n  }, this);\n};\n_s(MapComponent, \"tFuz/vHZrfIluRiL/A8tKYEgBOc=\");\n_c2 = MapComponent;\nexport default Map;\nvar _c, _c2;\n$RefreshReg$(_c, \"Map\");\n$RefreshReg$(_c2, \"MapComponent\");","map":{"version":3,"names":["React","Wrapper","Status","jsxDEV","_jsxDEV","render","status","destinations","selectedCoords","LOADING","className","children","fileName","_jsxFileName","lineNumber","columnNumber","FAILURE","SUCCESS","MapComponent","Map","apiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","libraries","_c","_s","ref","useRef","map","setMap","useState","markersRef","useEffect","current","newMap","window","google","maps","center","lat","lng","zoom","disableDefaultUI","zoomControl","mapTypeControl","scaleControl","streetViewControl","rotateControl","fullscreenControl","addListener","e","latLng","onClick","forEach","marker","dest","coords","Marker","position","title","name","push","coordsArray","Array","isArray","newMarkers","coord","draggable","event","newCoords","length","setCenter","setZoom","bounds","LatLngBounds","c","extend","fitBounds","_c2","$RefreshReg$"],"sources":["/Users/suvinjeon/What-To-Do/client/src/components/HomePage/Map.js"],"sourcesContent":["import React from \"react\";\nimport { Wrapper, Status } from \"@googlemaps/react-wrapper\";\nimport \"./Map.css\";\n\nconst render = (status, destinations, selectedCoords) => {\n  switch (status) {\n    case Status.LOADING:\n      return <div className=\"map-loading\">Loading Map...</div>;\n    case Status.FAILURE:\n      return <div className=\"map-error\">Error loading map</div>;\n    case Status.SUCCESS:\n      return (\n        <MapComponent\n          destinations={destinations}\n          selectedCoords={selectedCoords}\n        />\n      );\n    default:\n      return null;\n  }\n};\n\nfunction Map({ destinations = [], selectedCoords }) {\n  return (\n    <div className=\"map-container\">\n      <Wrapper\n        apiKey={process.env.REACT_APP_GOOGLE_MAPS_API_KEY}\n        render={(status) => render(status, destinations, selectedCoords)}\n        libraries={[\"places\"]}\n      ></Wrapper>\n    </div>\n  );\n}\n\n// The actual map component that gets rendered after loading\nconst MapComponent = ({ destinations, selectedCoords }) => {\n  const ref = React.useRef(null);\n  const [map, setMap] = React.useState(null);\n  const markersRef = React.useRef([]);\n\n  React.useEffect(() => {\n    if (ref.current && !map) {\n      const newMap = new window.google.maps.Map(ref.current, {\n        center: { lat: 40.7128, lng: -74.006 }, // New York City coordinates\n        zoom: 12,\n        // Remove custom styles to use default Google Maps look\n        disableDefaultUI: false, // Keep default UI\n        zoomControl: true,\n        mapTypeControl: true,\n        scaleControl: true,\n        streetViewControl: true,\n        rotateControl: true,\n        fullscreenControl: true,\n      });\n      // Click Listener for a randomly dropped pin\n      newMap.addListener(\"click\", (e) => {\n        const latLng = { lat: e.latLng.lat(), lng: e.latLng.lng() };\n        if (onClick) onClick(latLng);\n      });\n\n      setMap(newMap);\n\n      //   // Add some sample markers for popular NYC locations\n      //   const popularLocations = [\n      //     { lat: 40.7829, lng: -73.9654, title: \"Central Park\" },\n      //     { lat: 40.6892, lng: -74.0445, title: \"Statue of Liberty\" },\n      //     { lat: 40.7589, lng: -73.9851, title: \"Times Square\" },\n      //     { lat: 40.751, lng: -73.9943, title: \"Empire State Building\" },\n      //     { lat: 40.7505, lng: -73.9934, title: \"Madison Square Garden\" },\n      //   ];\n\n      //   popularLocations.forEach((location) => {\n      //     new window.google.maps.Marker({\n      //       position: { lat: location.lat, lng: location.lng },\n      //       map: newMap,\n      //       title: location.title,\n      //       // Use default Google Maps marker by not specifying custom icon\n      //     });\n      //   });\n    }\n  }, [ref, map]);\n\n  // Update markers whenever destinations change\n  React.useEffect(() => {\n    if (!map) return;\n\n    // Clear old markers\n    markersRef.current.forEach((marker) => marker.setMap(null));\n    markersRef.current = [];\n\n    // Add new markers\n    destinations.forEach((dest) => {\n      if (dest.coords) {\n        const marker = new window.google.maps.Marker({\n          position: dest.coords,\n          map,\n          title: dest.name || \"New Destination\",\n        });\n        markersRef.current.push(marker);\n      }\n    });\n  }, [map, destinations]);\n\n  // Autofocus when selectedCoords change to center to selectedCorods\n  React.useEffect(() => {\n    if (!map) return;\n    const coordsArray = Array.isArray(selectedCoords)\n      ? selectedCoords\n      : selectedCoords\n      ? [selectedCoords]\n      : [];\n\n    const newMarkers = coordsArray.map((coord) => {\n      const marker = new window.google.maps.Marker({\n        position: coord,\n        map,\n        draggable: !Array.isArray(selectedCoords), // draggable only for single marker\n      });\n      // ✅ Add drag listener like your version\n      if (!Array.isArray(selectedCoords)) {\n        marker.addListener(\"dragend\", (event) => {\n          const newCoords = {\n            lat: event.latLng.lat(),\n            lng: event.latLng.lng(),\n          };\n          if (onClick) onClick(newCoords);\n        });\n      }\n      return marker;\n    });\n    markersRef.current = newMarkers;\n    // Center / zoom logic\n\n    if (coordsArray.length === 1) {\n      map.setCenter(coordsArray[0]);\n      map.setZoom(16);\n    } else if (coordsArray.length > 1) {\n      const bounds = new window.google.maps.LatLngBounds();\n      coordsArray.forEach((c) => bounds.extend(c));\n      map.fitBounds(bounds);\n    }\n  }, [map, selectedCoords]);\n\n  return <div ref={ref} className=\"google-map\" />;\n};\n\nexport default Map;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,EAAEC,MAAM,QAAQ,2BAA2B;AAC3D,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnB,MAAMC,MAAM,GAAGA,CAACC,MAAM,EAAEC,YAAY,EAAEC,cAAc,KAAK;EACvD,QAAQF,MAAM;IACZ,KAAKJ,MAAM,CAACO,OAAO;MACjB,oBAAOL,OAAA;QAAKM,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAC1D,KAAKb,MAAM,CAACc,OAAO;MACjB,oBAAOZ,OAAA;QAAKM,SAAS,EAAC,WAAW;QAAAC,QAAA,EAAC;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAC3D,KAAKb,MAAM,CAACe,OAAO;MACjB,oBACEb,OAAA,CAACc,YAAY;QACXX,YAAY,EAAEA,YAAa;QAC3BC,cAAc,EAAEA;MAAe;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC,CAAC;IAEN;MACE,OAAO,IAAI;EACf;AACF,CAAC;AAED,SAASI,GAAGA,CAAC;EAAEZ,YAAY,GAAG,EAAE;EAAEC;AAAe,CAAC,EAAE;EAClD,oBACEJ,OAAA;IAAKM,SAAS,EAAC,eAAe;IAAAC,QAAA,eAC5BP,OAAA,CAACH,OAAO;MACNmB,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,6BAA8B;MAClDlB,MAAM,EAAGC,MAAM,IAAKD,MAAM,CAACC,MAAM,EAAEC,YAAY,EAAEC,cAAc,CAAE;MACjEgB,SAAS,EAAE,CAAC,QAAQ;IAAE;MAAAZ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACd;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEV;;AAEA;AAAAU,EAAA,GAZSN,GAAG;AAaZ,MAAMD,YAAY,GAAGA,CAAC;EAAEX,YAAY;EAAEC;AAAe,CAAC,KAAK;EAAAkB,EAAA;EACzD,MAAMC,GAAG,GAAG3B,KAAK,CAAC4B,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAG9B,KAAK,CAAC+B,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAMC,UAAU,GAAGhC,KAAK,CAAC4B,MAAM,CAAC,EAAE,CAAC;EAEnC5B,KAAK,CAACiC,SAAS,CAAC,MAAM;IACpB,IAAIN,GAAG,CAACO,OAAO,IAAI,CAACL,GAAG,EAAE;MACvB,MAAMM,MAAM,GAAG,IAAIC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACnB,GAAG,CAACQ,GAAG,CAACO,OAAO,EAAE;QACrDK,MAAM,EAAE;UAAEC,GAAG,EAAE,OAAO;UAAEC,GAAG,EAAE,CAAC;QAAO,CAAC;QAAE;QACxCC,IAAI,EAAE,EAAE;QACR;QACAC,gBAAgB,EAAE,KAAK;QAAE;QACzBC,WAAW,EAAE,IAAI;QACjBC,cAAc,EAAE,IAAI;QACpBC,YAAY,EAAE,IAAI;QAClBC,iBAAiB,EAAE,IAAI;QACvBC,aAAa,EAAE,IAAI;QACnBC,iBAAiB,EAAE;MACrB,CAAC,CAAC;MACF;MACAd,MAAM,CAACe,WAAW,CAAC,OAAO,EAAGC,CAAC,IAAK;QACjC,MAAMC,MAAM,GAAG;UAAEZ,GAAG,EAAEW,CAAC,CAACC,MAAM,CAACZ,GAAG,CAAC,CAAC;UAAEC,GAAG,EAAEU,CAAC,CAACC,MAAM,CAACX,GAAG,CAAC;QAAE,CAAC;QAC3D,IAAIY,OAAO,EAAEA,OAAO,CAACD,MAAM,CAAC;MAC9B,CAAC,CAAC;MAEFtB,MAAM,CAACK,MAAM,CAAC;;MAEd;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF;EACF,CAAC,EAAE,CAACR,GAAG,EAAEE,GAAG,CAAC,CAAC;;EAEd;EACA7B,KAAK,CAACiC,SAAS,CAAC,MAAM;IACpB,IAAI,CAACJ,GAAG,EAAE;;IAEV;IACAG,UAAU,CAACE,OAAO,CAACoB,OAAO,CAAEC,MAAM,IAAKA,MAAM,CAACzB,MAAM,CAAC,IAAI,CAAC,CAAC;IAC3DE,UAAU,CAACE,OAAO,GAAG,EAAE;;IAEvB;IACA3B,YAAY,CAAC+C,OAAO,CAAEE,IAAI,IAAK;MAC7B,IAAIA,IAAI,CAACC,MAAM,EAAE;QACf,MAAMF,MAAM,GAAG,IAAInB,MAAM,CAACC,MAAM,CAACC,IAAI,CAACoB,MAAM,CAAC;UAC3CC,QAAQ,EAAEH,IAAI,CAACC,MAAM;UACrB5B,GAAG;UACH+B,KAAK,EAAEJ,IAAI,CAACK,IAAI,IAAI;QACtB,CAAC,CAAC;QACF7B,UAAU,CAACE,OAAO,CAAC4B,IAAI,CAACP,MAAM,CAAC;MACjC;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAAC1B,GAAG,EAAEtB,YAAY,CAAC,CAAC;;EAEvB;EACAP,KAAK,CAACiC,SAAS,CAAC,MAAM;IACpB,IAAI,CAACJ,GAAG,EAAE;IACV,MAAMkC,WAAW,GAAGC,KAAK,CAACC,OAAO,CAACzD,cAAc,CAAC,GAC7CA,cAAc,GACdA,cAAc,GACd,CAACA,cAAc,CAAC,GAChB,EAAE;IAEN,MAAM0D,UAAU,GAAGH,WAAW,CAAClC,GAAG,CAAEsC,KAAK,IAAK;MAC5C,MAAMZ,MAAM,GAAG,IAAInB,MAAM,CAACC,MAAM,CAACC,IAAI,CAACoB,MAAM,CAAC;QAC3CC,QAAQ,EAAEQ,KAAK;QACftC,GAAG;QACHuC,SAAS,EAAE,CAACJ,KAAK,CAACC,OAAO,CAACzD,cAAc,CAAC,CAAE;MAC7C,CAAC,CAAC;MACF;MACA,IAAI,CAACwD,KAAK,CAACC,OAAO,CAACzD,cAAc,CAAC,EAAE;QAClC+C,MAAM,CAACL,WAAW,CAAC,SAAS,EAAGmB,KAAK,IAAK;UACvC,MAAMC,SAAS,GAAG;YAChB9B,GAAG,EAAE6B,KAAK,CAACjB,MAAM,CAACZ,GAAG,CAAC,CAAC;YACvBC,GAAG,EAAE4B,KAAK,CAACjB,MAAM,CAACX,GAAG,CAAC;UACxB,CAAC;UACD,IAAIY,OAAO,EAAEA,OAAO,CAACiB,SAAS,CAAC;QACjC,CAAC,CAAC;MACJ;MACA,OAAOf,MAAM;IACf,CAAC,CAAC;IACFvB,UAAU,CAACE,OAAO,GAAGgC,UAAU;IAC/B;;IAEA,IAAIH,WAAW,CAACQ,MAAM,KAAK,CAAC,EAAE;MAC5B1C,GAAG,CAAC2C,SAAS,CAACT,WAAW,CAAC,CAAC,CAAC,CAAC;MAC7BlC,GAAG,CAAC4C,OAAO,CAAC,EAAE,CAAC;IACjB,CAAC,MAAM,IAAIV,WAAW,CAACQ,MAAM,GAAG,CAAC,EAAE;MACjC,MAAMG,MAAM,GAAG,IAAItC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACqC,YAAY,CAAC,CAAC;MACpDZ,WAAW,CAACT,OAAO,CAAEsB,CAAC,IAAKF,MAAM,CAACG,MAAM,CAACD,CAAC,CAAC,CAAC;MAC5C/C,GAAG,CAACiD,SAAS,CAACJ,MAAM,CAAC;IACvB;EACF,CAAC,EAAE,CAAC7C,GAAG,EAAErB,cAAc,CAAC,CAAC;EAEzB,oBAAOJ,OAAA;IAAKuB,GAAG,EAAEA,GAAI;IAACjB,SAAS,EAAC;EAAY;IAAAE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACjD,CAAC;AAACW,EAAA,CA7GIR,YAAY;AAAA6D,GAAA,GAAZ7D,YAAY;AA+GlB,eAAeC,GAAG;AAAC,IAAAM,EAAA,EAAAsD,GAAA;AAAAC,YAAA,CAAAvD,EAAA;AAAAuD,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}